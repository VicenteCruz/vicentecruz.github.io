<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presente de aniversário</title>
    <style>
        body {
            font-family: 'Gill Sans', Arial, sans-serif;
            background-color: #f0f8ff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            animation: backgroundChange 10s infinite alternate; /* Animação de mudança de fundo */
        }
        h1 {
            color: #333;
        }
        #word {
            font-size: 36px;
            letter-spacing: 5px;
            margin: 20px 0;
            padding: 10px 30px;
            border: 2px solid #45a049;
            border-radius: 30px;
            background-color: #ffffff;
            text-align: center; /* Center the text */
            white-space: pre-wrap; /* Allow wrapping of words */
            -webkit-animation: squareToCircle 2s 1s infinite alternate;
            
        }
        
        #letterInput {
            font-size: 24px;
            padding: 10px;
            border: 2px solid #45a049;
            border-radius: 30px;
            margin-right: 10px;
        }

        button {
            font-size: 24px;
            padding: 10px 20px;
            border: none;
            border-radius: 30px;
            background-color: #78bb7a;
            border: 2px solid #45a049;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #45a049;
            border: 2px solid #45a049;
        }

        .btnR{
            background-color: #00000000;
            border: 2px solid #00000000;
            color: #333;
        }

        .btnR:hover{
            background-color: #00000000;
            border: 2px solid #00000000;
            color: #333;
        }

        #message {
            margin-top: 20px;
            font-size: 20px;
            color: #000000; /* Cor para mensagens de erro */
        }

        /* Adicionando estilos responsivos */
        @media (max-width: 600px) {
            h1 {
                margin-top: -50px; /* Ajuste a margem superior conforme necessário */
            }
            #word {
                font-size: 24px; /* Tamanho da fonte menor em dispositivos móveis */
                padding: 10px 20px;
            }

            #message {
                font-size: 17px; /* Tamanho da fonte menor em dispositivos móveis */
            }

            #letterInput {
            font-size: 22px; /* Larger font size for mobile */
            padding: 10px; /* Increase padding */
            width: 70%; /* Wider input field */
                }
                button {
                    font-size: 22px; /* Increase font size */
                    padding: 15px 15px; /* Increase padding for easier tapping */
                }
                #revealButton {
                    font-size: 22px; /* Larger font for the reveal button */
                    padding: 15px 25px;
                }
        }

        @keyframes colorChange {
            0% { background-color: #78bb7a; }
            50% { background-color: #99f19c; }
            100% { background-color: #78bb7a; }
        }

        @keyframes backgroundChange {
            0% { background-color: #ffedd7; } /* Azul claro */
            50% { background-color: #ffebcd; } /* Cor de fundo intermediária */
            100% { background-color: #ffe4e1; } /* Cor de fundo final */
        }

        @-webkit-keyframes squareToCircle {
    0% {
      border-radius: 30px 20px 20px 30px;
    }
    25% {
      border-radius: 30px 20px 30px 20px;
    }
    50% {
      border-radius: 20px 30px 30px 20px;
    }
    75% {
      border-radius: 20px 20px 30px 30px;
    }
    100% {
      border-radius: 30px 20px 20px 30px;
    }

}



#revealButton {
    padding: 1px 1px; /* Ajuste o valor conforme necessário */
    border: none;
    border-radius: 30px;
    outline: none;
    color: rgb(0, 0, 0);
    background: #ffffff00;
    cursor: pointer;
    position: relative;
    z-index: 0;
    user-select: none;
    -webkit-user-select: none;
    touch-action: manipulation;

}

#revealButton:before {
    content: "";
    background: linear-gradient(
        45deg,
        #44ff00,
        #b3ff50,
        #e9fe6f,
        #f3ff94,
        #b3f069,
        #72ed46,
        #b1fc24,
        #dcff18,
        #44ff00
    );
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -43%); /* Centers the glow */
    background-size: 400%;
    z-index: -1;
    filter: blur(15px); /* Increase blur for a stronger glow */
    width: calc(100% + 15px); /* Larger glow area */
    height: calc(100% + 15px); /* Larger glow area */
    animation: glowing-button-85 20s linear infinite;
    transition: opacity 0.3s ease-in-out;
    border-radius: 30px;
}

@keyframes glowing-button-85 {
  0% {
    background-position: 0 0;
  }
  50% {
    background-position: 400% 0;
  }
  100% {
    background-position: 0 0;
  }
}

#revealButton:after {
  z-index: -1;
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  background: #ffffff;
  border: 2px solid #ffffff;
  left: 0;
  top: 0;
  border-radius: 30px;
}



#revealButton:hover:before {
    background: linear-gradient(    
    45deg,
    #ff0000,
    #ff7300,
    #fffb00,
    #48ff00,
    #00ffd5,
    #002bff,
    #7a00ff,
    #ff00c8,
    #ff0000); /* Alteração de cor no hover */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -43%); /* Centers the glow */
    background-size: 400%;
    z-index: -1;
    filter: blur(15px); /* Increase blur for a stronger glow */
    width: calc(100% + 15px); /* Larger glow area */
    height: calc(100% + 15px); /* Larger glow area */
    animation: glowing-button-85 20s linear infinite;
    transition: opacity 0.3s ease-in-out;
    border-radius: 30px;
}

#giftImage {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    background-color: rgba(0, 0, 0, 0);
    animation: fadeInZoom 2s ease forwards;
}

#giftImage img {
    max-width: 90%;
    max-height: 90%;
    object-fit: contain;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.8);
    opacity: 0;
    background-color: rgba(0, 0, 0, 0);
    animation: imageAppear 2s ease forwards;
    
}

#container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin-top: 20px;
    gap: 0px; /* Espaço entre #word e #revealButton */
}

/* Keyframes for the animations */
@keyframes fadeInZoom {
    0% { opacity: 0; transform: scale(1); }
    100% { opacity: 1; transform: scale(1); }
}

@keyframes imageAppear {
    0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
    100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
}



    </style>
</head>
<body>
    <h1>Tenta adivinhar a frase</h1>
    <div id="word"></div>
    <div id="container">
        <div>
            <input type="text" id="letterInput" maxlength="1" placeholder="Escreve aqui uma letra" onkeypress="checkEnter(event)" />
            <button id="guessButton" onclick="guessLetter()">??</button>
        </div>
        <div id="revealButton" style="display: none;">
            <button class="btnR" onclick="revealGift()">Agora só falta abrir o presente!</button>
        </div>
    </div>
    <div id="message"></div>
    <div id="giftImage" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 999; background-color: rgba(0, 0, 0, 0.8);">
        <img src="Lisboa.png" alt="Seu Presente" style="max-width: 100%; max-height: 100%; object-fit: contain; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);" />
    </div>

    <script>

        //const phrase = "Prepara-te para viajar"; // A primeira letra é maiúscula
        const phrase = "A próxima viagem";
        //const phrase = "r";
        let displayedWord = phrase.replace(/[a-zA-Záéíóúãõâêîôûàèìòùäëïöüçñ]/gi, "_");
        const wordElement = document.getElementById("word");
        const messageElement = document.getElementById("message");

        function updateDisplay() {
            // Substitui espaços por um número maior de espaços para aumentar o espaçamento entre palavras
            wordElement.innerHTML = displayedWord.split("").map(char => char === " " ? "&nbsp;&nbsp;&nbsp;&nbsp;" : char).join("");
        }

        function guessLetter() {
    const input = document.getElementById("letterInput");
    let letter = input.value.toLowerCase();
    input.value = "";

    // Substitui "ó" por "o" para fazer a verificação
    if (letter === "o" || letter === "ó") {
        letter = "o";
    }

    if (letter.length === 1) {
        let found = false;
        let newDisplayedWord = "";

        for (let i = 0; i < phrase.length; i++) {
            // Aqui consideramos "ó" como "o"
            const phraseLetter = phrase[i].toLowerCase() === "ó" ? "o" : phrase[i].toLowerCase();

            if (phraseLetter === letter) {
                newDisplayedWord += phrase[i]; // Mantém a letra original (maiúscula ou minúscula)
                found = true;
            } else if (phrase[i] === " ") {
                newDisplayedWord += " "; // Mantém os espaços
            } else {
                newDisplayedWord += displayedWord[i]; // Mantém a letra já adivinhada
            }
        }

        displayedWord = newDisplayedWord;
        messageElement.textContent = found ? "Continua!" : "Obvio que não é a boa letra.";
    } else {
        messageElement.textContent = "Lol, isso não é uma letra.";
    }

    updateDisplay();

    if (!displayedWord.includes("_")) {
        messageElement.textContent = " ";
        const revealButton = document.getElementById("revealButton");
        const backgroundMusic = document.getElementById("backgroundMusic");

        revealButton.style.display = "block"; // Ensure the button is set to block before fading in
        backgroundMusic.currentTime = 178; // Substitua 30 pelo timestamp desejado em segundos
        backgroundMusic.play();
        revealButton.classList.add("visible"); // Add the visible class to trigger the fade effect
        input.style.display = "none";
        guessButton.style.display = "none";
    }
}

        function revealGift() {
            //alert("Aqui está o seu presente! 🎁"); // Ação ao clicar no botão
            document.getElementById("giftImage").style.display = "block"; // Mostra a imagem
            document.body.classList.add("blur-background"); // Apply blur to the background


        }

        function checkEnter(event) {
            if (event.key === "Enter") {
                guessLetter(); // Chama a função guessLetter quando a tecla Enter é pressionada
            }
        }

        updateDisplay();
    </script>
<audio id="backgroundMusic" src="proxima_viagem.mp3" preload="auto"></audio>
</body>
</html>

